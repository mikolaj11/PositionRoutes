%% if you are submitting an initial manuscript then you should have submission as an option here
%% if you are submitting a revised manuscript then you should have revision as an option here
%% otherwise options taken by the article class will be accepted
\documentclass[submission]{FPSAC2020}
%% but DO NOT pass any options (or change anything else anywhere) which alters page size / layout / font size etc

%% note that the class file already loads {amsmath, amsthm, amssymb}
\usepackage{cite}
\usepackage{lipsum}
\usepackage[utf8]{inputenc}
\usepackage[polish, english]{babel}
\usepackage{tikz}
\usepackage{pgfplots}

\newcommand{\verker}
{
	\begin{tikzpicture}
	\begin{axis}[
		axis x line*=bottom,
  		axis y line*=left,
  		enlargelimits=false,
  		xmin=0,
		xmax=2.4,
		ymin=0,
		ymax=2.3
	]

	\addplot [
		domain=-2:2, 
		samples=1000, 
		color=black,
		style={ultra thick}
	]
	({1/pi*(x*rad(asin(x/2))+sqrt(4-x*x))+x/2},{1/pi*(x*rad(asin(x/2))+sqrt(4-x*x))-x/2});
	\addplot[
	only marks,
    color=black,
    mark=o,
	style={thick}
    ]
    coordinates {
    (0,2)
    };
    \addplot[
    color=black,
    mark=o,
	style={thick}
    ]
    coordinates {
    (2,0)
    };
	\fill[thick,draw=black,fill=white] ({100*(1/pi*(1*rad(asin(1/2))+sqrt(4-1*1))+1/2)},{100*(1/pi*(1*rad(asin(1/2))+sqrt(4-1*1))-1/2)}) circle (100*0.03) node[anchor=south] {\tiny \large \hspace{30pt}$G(0.8)$};
	\fill[thick,draw=black,fill=white] ({100*(1/pi*(1*rad(asin(1/2))+sqrt(4-1*1))-1/2)},{100*(1/pi*(1*rad(asin(1/2))+sqrt(4-1*1))+1/2)}) circle (100*0.03) node[anchor=south west] {\tiny \large $G(0.2)$};
	\fill[thick,draw=black,fill=white] ({100*(1/pi*(0*rad(asin(0/2))+sqrt(4-0*0))+0/2)},{100*(1/pi*(0*rad(asin(0/2))+sqrt(4-0*0))-0/2)}) circle (100*0.03) node[anchor=south west] {\tiny \large $G(0.5)$};
	\fill[thick,draw=black,fill=white] ({100*(1/pi*(-2*rad(asin(-2/2))+sqrt(4-2*2))-2/2)},{100*(1/pi*(-2*rad(asin(-2/2))+sqrt(4-2*2))+2/2)}) circle (100*0.03) node[anchor=west] {\tiny \large \hspace{4pt}$G(0.0)$};
	\fill[thick,draw=black,fill=white] ({100*(1/pi*(2*rad(asin(2/2))+sqrt(4-2*2))+2/2)},{100*(1/pi*(2*rad(asin(2/2))+sqrt(4-2*2))-2/2)}) circle (100*0.03) node[anchor=south] {\tiny \large $G(1.0)$};

	\end{axis}
	\end{tikzpicture}
}


\newcommand{\trzy}
{
	\colorlet{CiemnoZielony}{green!50!black}
\begin{center}
\begin{tabular}{ccccc}
\begin{tikzpicture}[scale=0.05]
\begin{scope}
\clip (0,0) rectangle (42.426407,84.852814);
\draw[red,ultra thick] plot[smooth,scale=14.142136] file {bumpingcurve.txt};
\end{scope}
\begin{scope} 
\clip[](35,0) -- (35,1) -- (30,1) -- (30,3) -- (27,3) -- (27,4) -- (25,4) -- (25,5) -- (23,5) -- (23,6) -- (21,6) -- (21,7) -- (19,7) -- (19,8) -- (17,8) -- (17,9) -- (15,9) -- (15,11) -- (14,11) -- (14,12) -- (13,12) -- (13,13) -- (12,13) -- (12,14) -- (11,14) -- (11,16) -- (9,16) -- (9,18) -- (7,18) -- (7,19) -- (6,19) -- (6,21) -- (5,21) -- (5,25) -- (4,25) -- (4,26) -- (3,26) -- (3,31) -- (2,31) -- (2,34) -- (0,34) -- (0,0);
\draw[black!30] (0,0) grid (35,34);
\end{scope}
\draw[](35,0) -- (35,1) -- (30,1) -- (30,3) -- (27,3) -- (27,4) -- (25,4) -- (25,5) -- (23,5) -- (23,6) -- (21,6) -- (21,7) -- (19,7) -- (19,8) -- (17,8) -- (17,9) -- (15,9) -- (15,11) -- (14,11) -- (14,12) -- (13,12) -- (13,13) -- (12,13) -- (12,14) -- (11,14) -- (11,16) -- (9,16) -- (9,18) -- (7,18) -- (7,19) -- (6,19) -- (6,21) -- (5,21) -- (5,25) -- (4,25) -- (4,26) -- (3,26) -- (3,31) -- (2,31) -- (2,34) -- (0,34) -- (0,0) -- cycle ;
\traj{27}

\end{tikzpicture}
&\hspace{50pt}&
\begin{tikzpicture}[scale=0.05]
\begin{scope}
\clip (0,0) rectangle (42.426407,84.852814);
\draw[red,ultra thick] plot[smooth,scale=14.142136] file {bumpingcurve.txt};
\end{scope}
\begin{scope}
\clip[](53,0) -- (53,1) -- (51,1) -- (51,2) -- (44,2) -- (44,3) -- (41,3) -- (41,4) -- (36,4) -- (36,5) -- (35,5) -- (35,6) -- (33,6) -- (33,7) -- (31,7) -- (31,8) -- (30,8) -- (30,9) -- (28,9) -- (28,10) -- (26,10) -- (26,12) -- (24,12) -- (24,13) -- (22,13) -- (22,15) -- (19,15) -- (19,17) -- (18,17) -- (18,18) -- (17,18) -- (17,20) -- (15,20) -- (15,22) -- (14,22) -- (14,24) -- (13,24) -- (13,26) -- (11,26) -- (11,28) -- (10,28) -- (10,29) -- (9,29) -- (9,32) -- (7,32) -- (7,33) -- (6,33) -- (6,36) -- (5,36) -- (5,39) -- (4,39) -- (4,41) -- (2,41) -- (2,47) -- (1,47) -- (1,52) -- (0,52) -- (0,0);
\draw[black!30] (0,0) grid (53,52);
\end{scope}
\draw[](53,0) -- (53,1) -- (51,1) -- (51,2) -- (44,2) -- (44,3) -- (41,3) -- (41,4) -- (36,4) -- (36,5) -- (35,5) -- (35,6) -- (33,6) -- (33,7) -- (31,7) -- (31,8) -- (30,8) -- (30,9) -- (28,9) -- (28,10) -- (26,10) -- (26,12) -- (24,12) -- (24,13) -- (22,13) -- (22,15) -- (19,15) -- (19,17) -- (18,17) -- (18,18) -- (17,18) -- (17,20) -- (15,20) -- (15,22) -- (14,22) -- (14,24) -- (13,24) -- (13,26) -- (11,26) -- (11,28) -- (10,28) -- (10,29) -- (9,29) -- (9,32) -- (7,32) -- (7,33) -- (6,33) -- (6,36) -- (5,36) -- (5,39) -- (4,39) -- (4,41) -- (2,41) -- (2,47) -- (1,47) -- (1,52) -- (0,52) -- (0,0) -- cycle ;
\traj{27,25,21,21,16,16,15,15,13,13,12,12,11,11}

\end{tikzpicture}
&\hspace{50pt}&
\begin{tikzpicture}[scale=0.05]
\begin{scope}
\clip (0,0) rectangle (42.426407,84.852814);
\draw[red,ultra thick] plot[smooth,scale=14.142136] file {bumpingcurve.txt};
\end{scope}
\begin{scope}
\clip[](80,0) -- (80,1) -- (73,1) -- (73,2) -- (65,2) -- (65,3) -- (63,3) -- (63,4) -- (61,4) -- (61,5) -- (58,5) -- (58,6) -- (53,6) -- (53,7) -- (50,7) -- (50,8) -- (49,8) -- (49,9) -- (47,9) -- (47,10) -- (44,10) -- (44,12) -- (42,12) -- (42,13) -- (39,13) -- (39,15) -- (38,15) -- (38,17) -- (36,17) -- (36,18) -- (33,18) -- (33,20) -- (29,20) -- (29,23) -- (28,23) -- (28,24) -- (27,24) -- (27,25) -- (25,25) -- (25,27) -- (23,27) -- (23,28) -- (22,28) -- (22,29) -- (21,29) -- (21,30) -- (20,30) -- (20,33) -- (18,33) -- (18,34) -- (17,34) -- (17,36) -- (16,36) -- (16,37) -- (15,37) -- (15,39) -- (14,39) -- (14,40) -- (13,40) -- (13,42) -- (12,42) -- (12,44) -- (9,44) -- (9,47) -- (8,47) -- (8,49) -- (7,49) -- (7,52) -- (6,52) -- (6,54) -- (5,54) -- (5,56) -- (4,56) -- (4,62) -- (3,62) -- (3,67) -- (2,67) -- (2,70) -- (1,70) -- (1,74) -- (0,74) -- (0,0);
\draw[black!30] (0,0) grid (80,74);
\end{scope}
\draw[](80,0) -- (80,1) -- (73,1) -- (73,2) -- (65,2) -- (65,3) -- (63,3) -- (63,4) -- (61,4) -- (61,5) -- (58,5) -- (58,6) -- (53,6) -- (53,7) -- (50,7) -- (50,8) -- (49,8) -- (49,9) -- (47,9) -- (47,10) -- (44,10) -- (44,12) -- (42,12) -- (42,13) -- (39,13) -- (39,15) -- (38,15) -- (38,17) -- (36,17) -- (36,18) -- (33,18) -- (33,20) -- (29,20) -- (29,23) -- (28,23) -- (28,24) -- (27,24) -- (27,25) -- (25,25) -- (25,27) -- (23,27) -- (23,28) -- (22,28) -- (22,29) -- (21,29) -- (21,30) -- (20,30) -- (20,33) -- (18,33) -- (18,34) -- (17,34) -- (17,36) -- (16,36) -- (16,37) -- (15,37) -- (15,39) -- (14,39) -- (14,40) -- (13,40) -- (13,42) -- (12,42) -- (12,44) -- (9,44) -- (9,47) -- (8,47) -- (8,49) -- (7,49) -- (7,52) -- (6,52) -- (6,54) -- (5,54) -- (5,56) -- (4,56) -- (4,62) -- (3,62) -- (3,67) -- (2,67) -- (2,70) -- (1,70) -- (1,74) -- (0,74) -- (0,0) -- cycle ;
\traj{27,25,21,21,16,16,15,15,13,13,12,12,11,11,11,11,9,9,9,9,9,9,9,9,8,8,8,8,8}
\end{tikzpicture}
\\
$A=1$&&$A=2$&&$A=3$
\end{tabular}
\end{center}
}

\newcommand{\traj}[1]
{
	\foreach \y [count=\j] in {#1} 
	{
		\draw[fill=CiemnoZielony!30] (\y,\j-1) rectangle +(1,1);
	}
}
\newtheorem{thm}{Theorem}
\newtheorem{lem}{Lemma}
\newtheorem{theorem}{Theorem}
\DeclareMathOperator{\Pos}{Pos}
\DeclareMathOperator{\boxi}{box}
\newcommand{\floor}[1]{\lfloor #1 \rfloor}
\newcommand{\strzalka}{\hspace{-3pt}\uparrow}

\newcommand{\rysuj}
{
	\begin{center}
		\begin{tabular}{ccc}
			\begin{tikzpicture}[scale=0.9]
				\diagram{4,3,2}
			\end{tikzpicture}
		
		& \hspace{30pt} &
			\begin{tikzpicture}[scale=0.9]
				\tableau{{1,2,4,7},{3,6,9},{5,8}}
			\end{tikzpicture}
		\\ 
		(a)
		&& (b) 		
		\end{tabular}
	\end{center}
}

\newcommand{\tableau}[1]
{
	\foreach \x [count=\i] in {#1} 
	{
		\foreach \y [count=\j] in \x 
		{
			\draw[ultra thick] (\j+1,0) -- (0,0) -- (0,\i+0.5);
			\draw (\j-1,\i-1) rectangle +(1,1); 
			\node[] at (\j-0.5,\i-0.5) {\y};
		}	
	}
}

\newcommand{\diagram}[1]
{
	\foreach \x [count=\i] in {#1} 
	{
		\draw[ultra thick] (\x+1,0) -- (0,0) -- (0,\i+0.5);
		\foreach \j in {1,...,\x}
		\draw (\j-1,\i-1) rectangle +(1,1); 
	}
}

%% define your title in the usual way
\title[Hydrodynamic limit of RSK]{Dynamic limit of Robinson--Schensted--Knuth algorithm}

%% define your authors in the usual way
%% use \addressmark{1}, \addressmark{2} etc for the institutions, and use \thanks{} for contact details
\author[Mikołaj Marciniak]{Mikołaj Marciniak\thanks{\href{mailto:mikolaj@mat.umk.pl}{mikolaj@mat.umk.pl}. Mikołaj Marciniak was partially supported by Narodowe Centrum Nauki, grant number 2017/26/A/ST1/00189.}\addressmark{1}}

%% then use \addressmark to match authors to institutions here
\address{\addressmark{1}Academia Copernicana, Faculty of Mathematics and Computer Science, Nicolaus Copernicus University ul. Chopina 12/18, 87-100 Toruń, Poland}

%% put the date of submission here
\received{\today}

%% leave this blank until submitting a revised version
%\revised{}

%% put your English abstract here, or comment this out if you don't have one yet
%% please don't use custom commands in your abstract / resume, as these will be displayed online
%% likewise for citations -- please don't use \cite, and instead write out your citation as something like (author year)
\abstract{We investigate evolution in time of the position of a fixed number in the insertion tableau when the Robinson--Schensted--Knuth algorithm is applied to a sequence of random numbers. When the length of the sequence tends to infinity, a typical trajectory after scaling converges in probability to some deterministic curve.}

%% put your French abstract here, or comment this out if you don't have one
%%\resume{\lipsum[2]}

%% put your keywords here, or comment this out if you don't have them yet
\keywords{RSK algorithm, bumping route, random Young tableaux, limit shape}

%% you can include your bibliography however you want, but using an external .bib file is STRONGLY RECOMMENDED and will make the editor's life much easier
%% regardless of how you do it, please use numerical citations, ie. [xx, yy] in the text

%% this sample uses biblatex, which (among other things) takes care of URLs in a more flexible way than bibtex
%% but you can use bibtex if you want
%\usepackage[backend=bibtex]{biblatex}
%\addbibresource{route.bib}
%% note the \printbibliography command at the end of the file which goes with these biblatex commands


\begin{document}

\maketitle
%% note that you DO NOT have to put your abstract here -- it is generated by \maketitle and the \abstract and \resume commands above

\section{Introduction}
\subsection{Notations}
A \emph{partition} of a natural number $n$ is a break up of $n$ into a sum $n=\lambda_1+\lambda_2+\cdots+\lambda_k$ where $\lambda_1\geq \lambda_2\geq\cdots\geq\lambda_k>0$ are positive integer numbers. The vector \linebreak[4]{$\lambda=(\lambda_1,\lambda_2,\ldots,\lambda_k)$} is usually used to denote a partition. Let $\lambda\vdash n$ denote that $\lambda$ is a partition of a number $n$. A \emph{Young diagram} $\lambda=(\lambda_1,\lambda_2,\ldots,\lambda_k)$ is a finite collection of boxes arranged in left-justified rows with the row length $\lambda_j$ of the $j-th$ row. Thus the Young diagram $\lambda$ is a graphical interpretation of the partition $\lambda$. A \emph{Young tableau} is a Young diagram filled with numbers. If the entries strictly decrease along each column from top to bottom and weakly increase along each row from left to right, a tableau is called \emph{semistandard}. A \emph{standard Young tableau} is a semistandard Young tableau with $n$ boxes which contains all numbers $1, 2, \ldots, n$. Figure~\ref{fig:diagtab} show examples of Young diagram and standard Young tableau.\\\\
\begin{figure}
\rysuj
\caption{(a) The Young diagram of shape $(4,3,2)\vdash 9$ and (b) a standard Young tableau of shape $(4,3,2)\vdash 9$. }
\label{fig:diagtab}
\end{figure}
The \emph{Robinson--Schensted--Knuth algorithm RSK} is a bijective algorithm which takes a finite sequence of numbers as the input and returns a pair of Young tableaux $(P,Q)$  with the same shape $\lambda\vdash n$. The semistandard tableau $P$ is called an \emph{insertion tableau}, and the standard tableau $Q$ is called a \emph{recording tableau}. In particular the RSK algorithm assigns to any permutation $\sigma$ a pair of standard Young tableaux $(P,Q)$. A detailed description of the RSK algorithm can be found in \cite{Romik2015}. The RSK algorithm is based on applying the \emph{insertion step} to successive numbers from a given finite sequence $\{X_j\}_{j=1}^n$. The insertion step takes as input the previously obtained tableau $P(X_1, X_2, \ldots, X_{j-1})$ and the next number $X_j$ from the sequence. Next it produces as output a new tableau $P(X_1, X_2, \ldots, X_n)$ with shape "increased" by one box. The RSK-insertion step starts in the first row with the number $x:=X_n$. The insertion step consists of inserting the number $x$ into the first box from left containing a number $y$ greater than $x$. Move to the next row with the number $x:=y$ and repeat the action. At some row we are forced to insert the number at the end of the row, which will end the insertion step. The collection of rearranged boxes is called the \emph{bumping route}. \\

We can say that the boxes with numbers are moved along bumping route during an RSK insertion step. The insertion step of the RSK algorithm can change the position of some numbers. We will consider the position of the box with a selected number as it changes with time. 

\subsection{Motivations}
The RSK algorithm is an important tool for algebraic combinatorics, especially in the context of Littlewood--Richardson coefficients and plactic monoid\cite{Fulton1991}. The RSK algorithm and operations on the words are crucial to understanding the Littlewood--Richardson coefficients.\\\\ 
For many years mathematicians have been studying the asymptotic behavior of the insertion tableau when we apply the Robinson--Schensted--Knuth algorithm to a random input. In the following paragraphs we will see several examples of such considerations. The RSK algorithm applied to the sequence of independent and identically distributed random variables with the uniform distribution on interval $(0,1)$ generates the Plancherel measure on Young diagrams\cite{Romik2015a}. The Plancherel measure is an important element of representation theory because it describes how the left regular representation decomposes into irreducible representations\cite{Fulton1991}.\\

The Ulam--Hammersley problem \cite{Baik1999} concerning typical length of the longest increasing subsequence in a random permutation corresponds to the problem concerning typical length of the first row in the Young tableau obtained by the RSK algorithm from the sequence of independent random variables $\{X_j\}_{j=1}^n$ with the uniform distribution $U(0,1)$ on the interval $(0,1)$.\\

Logan and Shepp \cite{LoganShepp1977} and Vershik and Kerov \cite{VershikKerov1986} described the limit shape of the insertion tableu $P(X_1, X_2, \ldots, X_n)$ obtained when we apply the RSK algorithm to a random finite sequence.\\

Romik and Śniady in \cite{Romik2015a} considered the limit shape of bumping routes obtained from the insertion tableau $P(X_1, X_2, \ldots, X_n, w)$, when applying an RSK insertion step with a fixed number $w$ to an existing insertion tableau obtained from a random finite sequence. In \cite{Romik2015a} they considered also the limit shape of \emph{jeu de taquin} obtained from the recording tableau $Q(w, X_1, X_2, \ldots, X_n)$ made from a random finite sequence preceded by a fixed number $w$. \\

\subsection{Main problem}
This paper also concerns the asymptotic behavior of the insertion tableau when we apply the RSK algorithm to a random input. What can we say about the evolution over time of the insertion tableau from the point of view of box dynamics, when we apply the RSK algorithm to a sequence of independent random variables with the uniform distribution $U(0,1)$? How do the boxes move in the insertion tableau? If we investigate the scaled position of a box with a fixed number, will we get a deterministic limit, when the number of boxes tends to infinity?\\

More specifically we consider the insertion tableau $P(X_1, X_2, \ldots, X_n, w, X_{n+1}\ldots, X_m)$ obtained by the RSK algorithm applied to a random finite sequence containing a fixed number $w$ at some index. The box with this fixed number $w$ is being bumped by the RSK insertion step along the bumping routes. We will describe the scaled limit position of the box with the number $w$ depending on the ratio of the numbers $m$ and $n$.
\subsection{The result of Romik and Śniady}
In evidence, we will need the following theorem proved by Romik and Śniady in the theorem. 
\begin{theorem}
\label{thm:romthm}
Let $\{X_j\}_{j=1}^\infty$ be a  sequence of independent random variables with the uniform distribution $U(0,1)$. Let $\square_n(x)\in \mathbb{N}^2$ denote a position of the new box in the in the insertion tableau $P(X_1), \ldots, X_n, x)$ when we apply the RSK insertion step for the number $z\in[0,1]$ to the previous obtained tableau $P(X_1, \ldots, X_n)$. Then this position, after scaling, converges in probability to the some limit curve: $$\frac{\square_n(x)}{\sqrt{n}}\overset{p}{\to}G(x),$$ where $G(x):[0,1]\to[0,2]^2$ is the Logan--Sheep--Vershik--Kerov curve rotated by 45 degrees.
\begin{figure}
 \begin{center}
\verker
\end{center}
\caption{The graph of the function $G(x)$ with specified values for  numbers $x=0.0$, $x=0.2$, $x=0.5$, $x=0.8$ and $x=1.0$.}
\label{fig:gfunction}
\end{figure}
The figure~\ref{fig:gfunction} shows the graph of the function $G(x)$. Moreover the Logan--Sheep--Vershik--Kerov curve is a Lipschitz function with constant $1$. After rotated it means that for each $x\geq 0$ and $\epsilon>0$ where $x+\epsilon\leq 1$ occurs:
$$G(x)-\epsilon(1,-1)<G(x+\epsilon)<G(x)+\epsilon(1,-1),$$
where the relation $<$ is an order in the plane defined as follows:
$(x_1,y_1)<(x_2,y_2)$ only and only if $x_1<x_2$ and $y_1>y_2$. The relation $<$ retains the order of the points in plane along the line $y=x$. In addition, the function $G(x)$ is also monotonic with respect to the relation $<$ in plane.
\end{theorem}
\section{The main result}
The main result is Theorem \ref{thm:mainthm} describing the asymptotic behavior of the box with a fixed number. When the number of boxes tends to infinity then the trajectory of the box converges in probability to the function $$H(A)=\sqrt{A}G(\frac{1}{A}).$$ The curve $H(A)$ is also limit shapes of bumping routes\cite{Romik2016} in the RSK algorithm. Figure \ref{fig:trzy} shows the graph of the function $H(x)$ and the experimentally determined position of the box with the number $w=0.5$ for $n=400$.
\begin{figure}
\trzy
\caption{ The trajectory describing the position of the box with the fixed number $w$ at the moment $\floor{An}$ for $n=400$ and numbers $A=1$, $A=2$ and $A=3$.}
\label{fig:trzy}
\end{figure}
More specifically let $w\in[0,1]$ be a fixed number. Let $\{X_j\}_{j=1}^\infty$ be a  sequence of independent random variables with the uniform distribution $U(0,1)$. For every $n\in\mathbb{N}$ let function $\Pos_n:\{n+1, n+2, \ldots\}\to\mathbb{N}^2$ describe the coordinates of the box with the number $w$ in the insertion tableau:
$$\Pos_n\left(j\right)=\boxi_w\biggl(P\left(X_1, \ldots, X_n, w, X_{n+1}, \ldots, X_j\right)\biggr)$$ for $j\in\{n+1, n+2, \ldots\}$. 

\begin{theorem}
\label{thm:mainthm}
For each number $A\in(1,\infty)$ the random variable $\Pos_n(\floor{An})$, after scaling by $\sqrt{wn}$ converges in probability to the limit $H(A)$, when $n$ tends to infinity: $$\forall_{\epsilon>0} \lim_{n\to\infty}\mathbb{P}\Bigg( \left\|\frac{\Pos_n\left(\floor{An}\right)}{\sqrt{wn}}-H\left(A\right)\right\|<\epsilon\Bigg)=1$$
\end{theorem}
\begin{proof}
We apply the RSK algorithm to a random sequence of real numbers containing the number $w$ and investigate the position of the box with the number $w$ in the insertion tableau. An insertion step applied to a number greater that $w$ does not change the position of the number $w$, so it is enough to consider only the subsequence containing numbers no greater than $w$. \\\\
Now we will use this observation in the proof. Let $m=\floor{An}$. The probability that the same number will occur twice in the sequence $(w, X_1, X_2, \ldots)$ is equal to 0, hence without losing generality we assume that the numbers $w, X_1, X_2, \ldots$ are all different. Let the sequence $\{X'_j\}_{j=1}^\infty$ be the subsequence of the sequence $\{X_j\}_{j=1}^\infty$ containing all elements of the sequence $\{X_j\}_{j=1}^\infty$, which are less than $w$. The sequence $\{X'_j\}_{j=1}^{\infty}$ is a sequence of independent random variables with the uniform distribution $U(0,w)$. Let $n'=n'(n)$ and $m'=m'(m)$ denote the numbers of element respectively of the sequences $\{X_j\}_{j=1}^n$, $\{X_j\}_{j=1}^m$ which are smaller than $w$. Then there is an equality:
\begin{align*}
\Pos_n\Big(\floor{An}\Big)&=\boxi_w\Big(P\left(X_1, \ldots, X_n, w, X_{n+1}, \ldots, X_{m_n}\right)\Big)\\&=\boxi_w\Big(P\left(X_1, \ldots, X'_{n'}, w, X'_{n'+1}, \ldots, X'_{m'}\right)\Big).
\end{align*}
The random variable $n'$ counts how many numbers from the sequence $\{X_j\}_{j=1}^{n}$ are less than $w$, so $n'$ is a random variable with the binomial distribution with parameters $n$ and $w$. We denote it $n'\sim B(n,w)$. Likewise the random variable $m'-n'$ counts how many numbers from the sequence $\{X_j\}_{j=n'+1}^{m'}$ are less than $w$, so $m'-n'\sim B(m-n,w)$. Moreover, the random variables $n'$ and $m'-n'$ are independent, because the random variables $X_1, X_2, \ldots$ are independent. \\
From the Khinchin--Kolmogorov--Etemadi Strong Law of Large Numbers theorem, we know that if $n$ tends to infinity, then the limits exist with probability $1$:
$$
\begin{matrix}
\lim_{n\to\infty}\frac{n'}{n}=&w, \\
\lim_{n\to\infty}\frac{m'-n'}{m-n}&=&w. \\
\end{matrix}
$$
Therefore, with probability $1$ also exist the limits:
\begin{align*}
\lim_{n\to\infty}\frac{m'}{n'}&= \lim_{n\to\infty}1+\frac{m'-n'}{n'}\\&=1+\lim_{n\to\infty}\frac{m'-n'}{m-n}\frac{1}{\frac{n'}{n}}\frac{m-n}{n}\\&=1+\lim_{n\to\infty}\frac{m'-n'}{m-n}\frac{1}{\frac{n'}{n}}\left(\frac{m}{n}-1\right)\\&=1+\frac{w}{w}\left(A-1\right)\\&=A
\end{align*}
and
\begin{align*}
\lim_{n\to\infty}\frac{m'}{n}&=\lim_{n\to\infty}\frac{n'}{n}\frac{m'}{n'}\\&=wA.
\end{align*}\\

We define the function $z:\{1, 2, \ldots m'\}\cup\{m'+1, n'+\frac{1}{2}\}\to [0,1]$ that assigns to a number $t\in\{1, 2, \ldots, m'\}$, the $t-th$ smallest number among $X'_1, X'_2, \ldots, X'_{m'}$ and additionally $z\left(m'+1\right)=w$ and $z\left(n'+\frac{1}{2}\right)=\frac{z\left(n'\right)+z\left(n'+1\right)}{2}$. 
\\

The sequence $\{z(j)\}_{j=1}^{m'}$ contains all elements of the sequence $\{X'_j\}_{j=1}^{m'}$ in the ascending order. In addition, the sequence $\{X'_j\}_{j=1}^{m'}$ is a random permutation $\Pi$ with the uniform distribution of the sequence $\{z(j)\}_{j=1}^{m'}$. The sequence $\{z(j)\}_{j=1}^{m'}$ will be called a \emph{random increasing sequence with the uniform distribution on the interval $[0,1]$}. Let $\Pi=\left(\Pi_1, \Pi_2, \ldots, \Pi_{m'}\right)$. Then
$$\Big\{X'_j\Big\}_{j=1}^{m'}=\Big\{z(\Pi_j)\Big\}_{j=1}^{m'}=z\circ\Pi,$$
where $z$ is the function that acts pointwise on every element of the permutation $\Pi$. 
Similarly, the function $z$ acts on a Young tableau by acting on each box individually. Then
\begin{align*}
\Pos_n\left(m\right)&=\boxi_w\Big(P\left(X'_1, \ldots, X'_{n'}, w, X'_{n'+1}, \ldots, X'_{m'}\right)\Big)
\\&= \boxi_w\bigg(P\Big(z(\Pi_1), \ldots, z\left(\Pi_{n'}\right), w, z\left(\Pi_{n'+1}\right), \ldots, z\left(\Pi_{m'}\right)\Big)\bigg)
\\&=\boxi_w\Big(z\circ P\left(\Pi_1, \ldots, \Pi_{n'}, m'+1, \Pi_{n'+1}, \ldots, \Pi_{m'}\right)\Big)
\\&=\boxi_{m'+1}\Big(P\left(\Pi_1, \ldots, \Pi_{n'}, m'+1, \Pi_{n'+1}, \ldots, \Pi_{m'}\right)\Big).
\end{align*}
We denote $\Pi^{-1}=\Big(\Pi^{-1}_1, \ldots, \Pi^{-1}_{m'}\Big)$ and we define the permutation $$\Pi\strzalka=\Big(\Pi_1, \ldots, \Pi_{n'}, m'+1, \Pi_{n'+1}, \ldots, \Pi_{m'}\Big)$$ as a natural extension of the permutation $\Pi$. Then $\Pi\strzalka^{-1}=\Big(\Pi\strzalka^{-1}_1, \ldots, \Pi\strzalka^{-1}_{m'+1}\Big)$ where
$$
\Pi\strzalka^{-1}_j=
\left\{
\begin{matrix}
\Pi_j^{-1}&j\leq n \\
\Pi_j^{-1}+1&n<j\leq m' \\
n+1&j=m'+1 \\
\end{matrix}
\right.
$$ In addition, we will use the fact that for any permutation $\Pi\strzalka$ the insertion tableau of $\Pi\strzalka$ is equal to the recording tableau of the inverse permutation $\Pi\strzalka^{-1}$:
$$P\left(\Pi\strzalka\right)=Q\left(\Pi\strzalka^{-1}\right).$$
Therefore
\begin{align*}
\Pos_n\left(m\right)&=\boxi_{m'+1}\bigg(P\left(\Pi_1, \ldots, \Pi_{n'}, m'+1, \Pi_{n'+1}, \ldots, \Pi_{m'}\right)\bigg)\\&=\boxi_{m'+1}\bigg(Q\left(\Pi\strzalka^{-1}\right)\bigg)\\&=\boxi_{m'+1}\bigg(Q\left(\Pi\strzalka^{-1}_1, \ldots, \Pi\strzalka^{-1}_{m'}, n'+1\right)\bigg).
\end{align*}
Now, using the function $z$, we will get the sequence of independent random variables with uniform distribution $U(0,1)$ 
\begin{align*}
\Pos_n\left(m\right)&=\boxi_{m'+1}\bigg(Q\Big(\Pi\strzalka^{-1}_1, \ldots, \Pi\strzalka^{-1}_{m'}, n'+1\Big)\bigg)\hspace{50pt}
\\&=\boxi_{m'+1}\bigg(Q\Big(\Pi\strzalka^{-1}_1, \ldots, \Pi\strzalka^{-1}_{m'}, n'+\frac{1}{2}\Big)\bigg)
\\&=\boxi_{m'+1}\bigg(Q\Big(\Pi^{-1}_1, \ldots, \Pi^{-1}_{m'}, n'+\frac{1}{2}\Big)\bigg)
\\&=\boxi_{m'+1}\bigg(z\circ Q\Big(\Pi^{-1}_1, \ldots, \Pi^{-1}_{m'}, n'+\frac{1}{2}\Big)\bigg)
\\&=\boxi_{m'+1}\Bigg(Q\bigg(z\Big(\Pi^{-1}_1\Big), \ldots, z\Big(\Pi^{-1}_{m'}\Big), z\Big(n'+\frac{1}{2}\Big)\bigg)\Bigg).
\end{align*}
The permutation $\Pi$ is a random permutation with the uniform distribution, so $\Pi^{-1}$ is also a random permutation with the uniform distribution. If we act with a random permutation on a random increasing sequence with the uniform distribution we will get a sequence of  independent random variables with the uniform distribution, thus the sequence $z\circ\Pi^{-1}=\bigg(z\Big(\Pi^{-1}_1\Big), \ldots, z\Big(\Pi^{-1}_{m'}\Big)\bigg)$ is a sequence of independent random variables with the uniform distribution $U(0,w)$. We define the random variable $T_n$ and the sequence $\{Y_j\}_{j=1}^{m'}$: 
$$
\begin{matrix}
Y_j=\frac{z\left(\Pi_j^{-1}\right)}{w} & \text{for}\hspace{10pt}j\in{1, 2, \ldots, m'},\\
T_n=\frac{z\left(n'+\frac{1}{2}\right)}{w}.
\end{matrix}
$$
The sequence $\{Y_j\}_{j=1}^{m'}$ is a sequence of independent random variables with the uniform distribution $U(0,1)$. In addition, the random variable $T_n$ converges with probability $1$ to $\frac{1}{A}$:
\begin{align*}
\lim_{n\to\infty}T_n&=\lim_{n\to\infty}\frac{z\left(n'+\frac{1}{2}\right)}{w}\\&=\lim_{n\to\infty}\frac{1}{w}\frac{z\left(n'\right)+z\left(n'+1\right)}{2}\\&=\lim_{n\to\infty}\frac{z\left(n'\right)}{w}+\lim_{n\to\infty}\frac{z\left(n'+1\right)-z\left(n'\right)}{2w}\\&=\lim_{n\to\infty}\frac{z\left(n'\right)}{w}\\&=\lim_{n\to\infty}\frac{n'}{m'}\\&=\frac{1}{A}.
\end{align*}
Therefore
\begin{align*}
\Pos_n\left(m\right)&=\boxi_{m'+1}\Bigg(Q\bigg(z\Big(\Pi^{-1}_1\Big), \ldots, z\Big(\Pi^{-1}_{m'}\Big), z\Big(n'+\frac{1}{2}\Big)\bigg)\Bigg)
\\&=\boxi_{m'+1}\Bigg(Q\bigg(\frac{z\left(\Pi^{-1}_1\right)}{w}, \ldots, \frac{z\left(\Pi^{-1}_{m'}\right)}{w}, \frac{z\left(n'+\frac{1}{2}\right)}{w}\bigg)\Bigg)
\\&=\boxi_{m'+1}\Big(Q\big(Y_1, \ldots, Y_{m'}, T_n\big)\Big).
\\&=\square_{m'}(T_n),
\end{align*}
where with probability one $T_n \to T=\frac{1}{A}\in(0,1)$, when $n$ tends to infinity.\\
From theorem \ref{thm:romthm} for each $x\in(0,1)$  we have:
\begin{align*}
\frac{\square_{m'}(x)}{\sqrt{m'}}\overset{p}{\to} F(x)
\end{align*}
Let $G_{m'}(x)=\frac{\square_{m'}(x)}{\sqrt{Anw}}$. Therefore
\begin{align*}
G_{m'}(x)=\sqrt{\frac{m'}{n}\frac{1}{Aw}} \hspace{5pt} \frac{\square_{m'}(x)}{\sqrt{m'}}\overset{p}{\to} \sqrt{\frac{Aw}{Aw}}\hspace{5pt}G(x)=G(x).
\end{align*}
We know that if $n$ tends to infinity then with probability $1$
$$T_n \to T $$ and for each $x$ occurs:
$$
G_{m'}(x)\overset{p}{\to} G(x).$$
Then for each $x\in(0,1)$ with probability $1$ for each $\epsilon>0$ exists $n_0$ that for each $n>n_0$ the following inequalities occur:
$$
\begin{matrix}
G(x)-\epsilon(1,-1)< G_{m'}(x) < G(x)+\epsilon(1,-1), \\
T-\epsilon< T_n < T + \epsilon.
\end{matrix}
$$
From Theorem \ref{thm:romthm} we have the relation $<$ in the plane. Then:
$$G_{m'}(T_n)<G_{m'}(T + \epsilon)<G_{m'}(T) + \epsilon(1,-1)<G(T) + 2\epsilon(1,-1)$$
and
$$G_{m'}(T_n)>G_{m'}(T - \epsilon)>G_{m'}(T) - \epsilon(1,-1)>G(T) - 2\epsilon(1,-1).$$
Thereby:
$$\left\|G_{m'}(T_n)-G(T)\right\|<2\sqrt{2}\epsilon<4\epsilon.$$
Then for each $A\in(1,\infty)$ with probability $1$ for each $\epsilon>0$ exists $n_0$ that for each $n>n_0$ the following inequality is true:
 $$ \left\|\frac{\Pos_n\left(\floor{An}\right)}{\sqrt{Awn}}-G\left(T\right)\right\|<4\frac{\epsilon}{4\sqrt{A}}$$
$$\left\|\frac{\Pos_n\left(\floor{An}\right)}{\sqrt{wn}}-\sqrt{A}G\left(\frac{1}{A}\right)\right\|<\epsilon.$$
Therefore for each $A\in(1,\infty)$:
$$\lim_{n\to\infty}\mathbb{P}\left(\left\|\frac{\Pos_n\left(\floor{An}\right)}{\sqrt{wn}}-H\left(A\right)\right\|<\epsilon\right)=1.$$
\end{proof}


%% if you use biblatex then this generates the bibliography
%% if you use some other method then remove this and do it your own way

\bibliography{bib}{}
\bibliographystyle{amsalpha}



\end{document}

